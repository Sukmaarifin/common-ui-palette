import { Meta, Story, Preview, Props } from '@storybook/addon-docs/blocks';
import { Button } from '@material-ui/core';

import PriusBackdrop from './index';

<Meta
  component={PriusBackdrop}
  id="Components|PriusBackdrop"
  title="Components|PriusBackdrop"
/>

# PriusBackdrop

`PriusBackdrop` can be used to display some arrowed floating content on top of another. It uses [Popper](https://material-ui.com/components/popper/) and [ClickAwayListener](https://material-ui.com/components/click-away-listener) under the hood.
The children element will be rendered inside [Paper](https://material-ui.com/components/paper/).

## Usage

Trigger button should be passed via `renderTrigger` props. PriusBackdrop will handle the `open` state of the [Popper](https://material-ui.com/components/popper/).

### Basic

<Preview>
  <Story name="Basic">
    <PriusBackdrop
      popperId={'dummy_prius_popper'}
      placement={'bottom-start'}
      renderTrigger={(anchorRef, handleToggle) => (
        <Button
          variant="contained"
          color="primary"
          ref={anchorRef}
          onClick={handleToggle}
          aria-describedby={'dummy_prius_popper'}
        >
          Toggle Backdrop
        </Button>
      )}
    >
      <h1>Hello, I am popping up!</h1>
      <p>
        Lorem ipsum, dolor sit amet consectetur adipisicing elit. Et consectetur
        ipsum deleniti ipsa eos incidunt voluptas. Necessitatibus suscipit
        cumque voluptas! Dolores laudantium ipsa eum aliquid reiciendis vero?
        Reiciendis, minus saepe.
      </p>
    </PriusBackdrop>
  </Story>
</Preview>

### Custom Children

If you need to handle close PriusBackdrop from inside the children, you can pass the children via `renderChildren` props instead.

<Preview>
  <Story name="Custom Children">
    <PriusBackdrop
      popperId={'dummy_prius_popper'}
      placement={'bottom-start'}
      renderTrigger={(anchorRef, handleToggle) => (
        <Button
          variant="contained"
          color="primary"
          ref={anchorRef}
          onClick={handleToggle}
          aria-describedby={'dummy_prius_popper'}
        >
          Toggle Backdrop
        </Button>
      )}
      renderChildren={(handleClose) => (
        <div>
          <h1>Hello, I am popping up!</h1>
          <p>
            Lorem ipsum, dolor sit amet consectetur adipisicing elit. Et
            consectetur ipsum deleniti ipsa eos incidunt voluptas.
            Necessitatibus suscipit cumque voluptas! Dolores laudantium ipsa eum
            aliquid reiciendis vero? Reiciendis, minus saepe.
          </p>
          <Button variant="contained" color="primary" onClick={handleClose}>
            Close Me!
          </Button>
        </div>
      )}
    />
  </Story>
</Preview>

## Props

<Props of={PriusBackdrop} />
